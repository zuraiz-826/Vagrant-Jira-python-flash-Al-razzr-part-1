Lab 20: Basic Deployment Concepts with Gunicorn and Heroku
Objectives
Understand the purpose and use of Gunicorn for deploying Python web applications.
Learn the basic deployment process on Heroku, a Platform as a Service (PaaS).
Implement practical exercises to host a sample Flask application using Gunicorn and Heroku.
Prerequisites
Basic knowledge of Python and Flask.
Familiarity with command-line interface operations.
Have Python and pip installed on your system.
Completed a simple Flask application (e.g., in app.py).
Lab Tasks Overview
Set Up Gunicorn for Deployment

Install Gunicorn.
Test running the application using Gunicorn.
Deploying to Heroku

Prepare the application for deployment.
Deploy the application on Heroku.
Task 1: Set Up Gunicorn for Deployment
Step 1.1: Install Gunicorn
Gunicorn is a powerful WSGI HTTP Server for Python web applications. It is broadly compatible with various web frameworks.

pip install gunicorn
Step 1.2: Test Running Your Flask App with Gunicorn
For a Flask app located in app.py with app as the Flask application instance, run the following command to serve your application:

gunicorn app:app
Key Concept: Gunicorn serves your application by forwarding HTTP requests to the Flask application and returning the responses to the client.
Verifying Gunicorn Setup
Open your web browser and go to http://127.0.0.1:8000.
Ensure that your Flask application is running as expected.
Task 2: Deploy to Heroku
Step 2.1: Prepare the Application for Deployment
Create a Procfile

A Procfile is a text file that specifies the commands that are executed by the app on startup.

web: gunicorn app:app
Set Up Environment Variables

Use environment variables for configuration on Heroku. Update your application to read important settings like SECRET_KEY from environment variables.

Example (in app.py):

import os

secret_key = os.environ.get('SECRET_KEY', 'default-secret-key')
Step 2.2: Deploy the Application on Heroku
Log in to Heroku CLI

heroku login
Create a New Heroku Application

heroku create your-app-name
Deploy Your Code

Initialize a git repository if not already done.
git init
git add .
git commit -m "Initial commit"
Deploy to Heroku
git push heroku master
Open Your Application

heroku open
Key Concept: Heroku provides hosting services with a simple way to deploy apps without worrying about the underlying infrastructure.
Conclusion
By the end of this lab, you have gained hands-on experience deploying a Python web application using Gunicorn and Heroku. You learned how to prepare your app with a Procfile and handle environment-specific configurations. Deploying code to platforms like Heroku involves understanding how the platform interacts with your application files, and this lab has demystified this process for a basic Flask application.

Keep exploring additional features and configurations offered by Gunicorn and Heroku to optimize and scale your deployments further.

